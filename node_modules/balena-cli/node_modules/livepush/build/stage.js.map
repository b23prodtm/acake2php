{"version":3,"file":"stage.js","sourceRoot":"","sources":["../lib/stage.ts"],"names":[],"mappings":"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"}