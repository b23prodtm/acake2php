// Generated by CoffeeScript 1.12.7
var Promise;

Promise = require('bluebird');

exports.extract = function(stream) {
  return new Promise(function(resolve, reject) {
    var chunks;
    chunks = [];
    stream.on('error', reject);
    stream.on('data', function(chunk) {
      return chunks.push(chunk);
    });
    return stream.on('end', function() {
      return resolve(chunks.join(''));
    });
  });
};

exports.waitStream = function(stream) {
  return new Promise(function(resolve, reject) {
    stream.on('error', reject);
    return stream.on('close', resolve);
  });
};
